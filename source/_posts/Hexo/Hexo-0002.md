---
title: HEXO NEXT主题美化
date: 2019-08-13 11:42:33
tags:
categories: HEXO
---
#### Hexo添加背景图
在 `themes/next/source/css/_custom/custom.styl`中添加如下代码：
``` python
body{
    background:url('图片地址');
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: center;
}
```
#### 点击出现桃心
在`/themes/next/source/js/src`下新建文件`click.js`，接着把以下粘贴到`click.js`文件中，添加如下代码：
``` python
!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
```
然后`\themes\next\layout\_layout.swig`文件末尾添加：
``` python
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
```
#### 修改Logo字体
在 `themes/next/source/css/_custom/custom.styl`中添加如下代码：
``` python
@font-face {
    font-family: Zitiming;
    src: url('字体地址'); #(字体自己网上下载即可)
}
.site-title {
    font-size: 40px !important;
	font-family: 'Zitiming' !important;
}
```
#### 自定义鼠标样式
在 `themes/next/source/css/_custom/custom.styl`中添加如下代码：
``` python
// 鼠标样式
  * {
      cursor: url("鼠标样式地址"),auto!important
  }
  :active {
      cursor: url("鼠标样式地址"),auto!important
  }
```
#### 文章添加边框阴影效果
在 `themes/next/source/css/_custom/custom.styl`中添加如下代码：
``` python
// 主页文章添加阴影效果
.post {
   margin-top: 0px;
   margin-bottom: 60px;
   padding: 25px;
   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);
}
```
#### 显示当前浏览进度
在`themes/next/_config.yml`，搜索`b2t`把 `false` 改为 `true` 如下：
``` python
# Back to top in sidebar
b2t: true

# Scroll percent label in b2t button
scrollpercent: true
```
#### 添加RSS
在博客根目录下，安装 Hexo 插件：(插件会放在`node_modules`文件夹中)
``` python
npm install --save hexo-generator-feed
```
接下来打开`站点配置`文件，末尾添加如下代码：
``` python
# Extensions
## Plugins: http://hexo.io/plugins/
plugins: hexo-generate-feed
```
然后打开next主题文件夹里面的`_config.yml`,在里面配置为如下样子：(就是在rss:的后面加上`/atom.xml`,注意在冒号后面要加一个空格)
``` python
# Set rss to false to disable feed link.
# Leave rss as empty to use site's feed link.
# Set rss to specific value if you have burned your feed already.
rss: /atom.xml
```
配置完之后运行：
``` python
hexo g
hexo s
```
#### 修改头像并旋转
打开`\themes\next\source\css\_common\components\sidebar\sidebar-author.styl`，在里面添加如下代码：
``` python
.site-author-image {
  display: block;
  margin: 0 auto;
  padding: $site-author-image-padding;
  max-width: $site-author-image-width;
  height: $site-author-image-height;
  border: $site-author-image-border-width solid $site-author-image-border-color;

  /* 头像圆形 */
  border-radius: 80px;
  -webkit-border-radius: 80px;
  -moz-border-radius: 80px;
  box-shadow: inset 0 -1px 0 #333sf;

  /* 鼠标经过头像旋转360度 */
  -webkit-transition: -webkit-transform 1.0s ease-out;
  -moz-transition: -moz-transform 1.0s ease-out;
  transition: transform 1.0s ease-out;
}

img:hover {
  /* 鼠标经过停止头像旋转 
  -webkit-animation-play-state:paused;
  animation-play-state:paused;*/

  /* 鼠标经过头像旋转360度 */
  -webkit-transform: rotateZ(360deg);
  -moz-transform: rotateZ(360deg);
  transform: rotateZ(360deg);
}

/* Z 轴旋转动画 */
@-webkit-keyframes play {
  0% {
    -webkit-transform: rotateZ(0deg);
  }
  100% {
    -webkit-transform: rotateZ(-360deg);
  }
}
@-moz-keyframes play {
  0% {
    -moz-transform: rotateZ(0deg);
  }
  100% {
    -moz-transform: rotateZ(-360deg);
  }
}
@keyframes play {
  0% {
    transform: rotateZ(0deg);
  }
  100% {
    transform: rotateZ(-360deg);
  }
}
```
#### 网站底部加上访问量
打开`\themes\next\layout\_partials\footer.swig`文件,在`copyright`前加上画红线这句：
``` python
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
```
然后在合适的位置添加显示统计的代码：
``` python
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>
```
#### 底部字数统计
在博客根目录下运行如下代码：
``` python
npm install hexo-wordcount --save
```
然后在`/themes/next/layout/_partials/footer.swig`文件尾部加上：
``` python
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共{{ totalcount(site) }}字</span>
</div>
```
#### 修改网站的图标Favicon
在[图标库](https://www.easyicon.net/)中找一张（32*32）的ico图标,或者去别的网站下载或者制作，并将图标名称改为`favicon.ico`，然后把图标放在`/themes/next/source/images`里，并且修改主题配置文件：
``` python
# Put your favicon.ico into `hexo-site/source/` directory.
favicon: /favicon.ico
```
#### 文章字数统计功能
在博客根目录下安装 `hexo-wordcount`,运行：
``` python
npm install hexo-wordcount --save
```
然后在主题的配置文件中，配置如下：
``` python
# Post wordcount display settings
# Dependencies: https://github.com/willin/hexo-wordcount
post_wordcount:
  item_text: true
  wordcount: true
  min2read: true
```
#### 修改打赏字体不闪动
修改文件`next/source/css/_common/components/post/post-reward.styl`，然后注释其中的函数`wechat:hover`和`alipay:hover`，如下：
``` python
/* 注释文字闪动函数
 #wechat:hover p{
    animation: roll 0.1s infinite linear;
    -webkit-animation: roll 0.1s infinite linear;
    -moz-animation: roll 0.1s infinite linear;
}
 #alipay:hover p{
   animation: roll 0.1s infinite linear;
    -webkit-animation: roll 0.1s infinite linear;
    -moz-animation: roll 0.1s infinite linear;
}
*/
```
